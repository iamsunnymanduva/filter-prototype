const signs = [
  {
    URL: './images/Focus.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Focus',
  },
  {
    URL: './images/Milk.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Milk',
  },
  {
    URL: './images/Curly.gif',
    hands: 2,
    location: 'Temple',
    name: 'Curly',
  },
  {
    URL: './images/Globe.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Globe',
  },
  {
    URL: './images/Learn.gif',
    hands: 1,
    location: 'Chin',
    name: 'Learn',
  },
  {
    URL: './images/Freeze.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Freeze',
  },
  {
    URL: './images/Puff-smoke.gif',
    hands: 1,
    location: 'Chin',
    name: 'Puff-smoke',
  },
  {
    URL: './images/Include.gif',
    hands: 2,
    location: 'Chin',
    name: 'Include',
  },
  {
    URL: './images/Mix-up.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Mix-up',
  },
  {
    URL: './images/People Audience.gif',
    hands: 2,
    location: 'Chin',
    name: 'People Audience',
  },
  {
    URL: './images/General.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'General',
  },
  {
    URL: './images/Messed-up.gif',
    hands: 2,
    location: 'Chin',
    name: 'Messed-up',
  },
  {
    URL: './images/Radio.gif',
    hands: 1,
    location: 'The whole face/head',
    name: 'Radio',
  },
  {
    URL: './images/Road.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Road',
  },
  {
    URL: './images/Roommate.gif',
    hands: 2,
    location: 'Chin',
    name: 'Roommate',
  },
  {
    URL: './images/Ball.gif',
    hands: 2,
    location: 'Chin',
    name: 'Ball',
  },
  {
    URL: './images/Ruin.gif',
    hands: 2,
    location: 'Chin',
    name: 'Ruin',
  },
  {
    URL: './images/Marry.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Marry',
  },
  {
    URL: './images/Kitchen.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Kitchen',
  },
  {
    URL: './images/Coffee.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Coffee',
  },
  {
    URL: './images/Socks.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Socks',
  },
  {
    URL: './images/Write.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Write',
  },
  {
    URL: './images/Match.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Match',
  },
  {
    URL: './images/Paper.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Paper',
  },
  {
    URL: './images/Potato.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Potato',
  },
  {
    URL: './images/Octopus.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Octopus',
  },
  {
    URL: './images/Pancake.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Pancake',
  },
  {
    URL: './images/Kiss.gif',
    hands: 2,
    location: 'Chin',
    name: 'Potato',
  },
  {
    URL: './images/Make.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Make',
  },
  {
    URL: './images/Introduce.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Introduce',
  },
  {
    URL: './images/Football.gif',
    hands: 2,
    location: 'Chin',
    name: 'Football',
  },
  {
    URL: './images/Merge.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Merge',
  },
  {
    URL: './images/Bite.gif',
    hands: 2,
    location: 'Chin',
    name: 'Bite',
  },
  {
    URL: './images/Work.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Work',
  },
  {
    URL: './images/Island.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Island',
  },
  {
    URL: './images/Race.gif',
    hands: 2,
    location: 'Chin',
    name: 'Race',
  },
  {
    URL: './images/School.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'School',
  },
  {
    URL: './images/Spread.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Spread',
  },
  {
    URL: './images/Wide.gif',
    hands: 2,
    location: 'Chin',
    name: 'Wide',
  },
  {
    URL: './images/Fight.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Fight',
  },
  {
    URL: './images/Marry.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Marry',
  },
  {
    URL: './images/Shoes.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Shoes',
  },
  {
    URL: './images/More.gif',
    hands: 2,
    location: 'Chin',
    name: 'More',
  },
  {
    URL: './images/Hard.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Hard',
  },
  {
    URL: './images/Cooking.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Cooking',
  },
  {
    URL: './images/Book.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Book',
  },
  {
    URL: './images/Nigeria.gif',
    hands: 2,
    location: 'Temple',
    name: 'Nigeria',
  },
  {
    URL: './images/Breathe.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Breathe',
  },
  {
    URL: './images/Trim Hedge.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Trim Hedge',
  },
  {
    URL: './images/Really.gif',
    hands: 1,
    location: 'Chin',
    name: 'Really',
  },
  {
    URL: './images/Thank you.gif',
    hands: 1,
    location: 'Chin',
    name: 'Thank you',
  },
  {
    URL: './images/Take break.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Take break',
  },
  {
    URL: './images/Distribute.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Distribute',
  },
  {
    URL: './images/Orthodox.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Orthodox',
  },
  {
    URL: './images/System.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'System',
  },
  {
    URL: './images/Applause.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Applause',
  },
  {
    URL: './images/Big.gif',
    hands: 2,
    location: 'Chin',
    name: 'Big',
  },
  {
    URL: './images/What.gif',
    hands: 1,
    location: 'The whole face/head',
    name: 'What',
  },
  {
    URL: './images/Close.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Close',
  },
  {
    URL: './images/Penis.gif',
    hands: 1,
    location: 'Chin',
    name: 'Penis',
  },
  {
    URL: './images/Try.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Try',
  },
  {
    URL: './images/Wrong.gif',
    hands: 2,
    location: 'Chin',
    name: 'Wrong',
  },
  {
    URL: './images/Thursday.gif',
    hands: 1,
    location: 'Chin',
    name: 'Thursday',
  },
  {
    URL: './images/Egypt.gif',
    hands: 1,
    location: 'Temple',
    name: 'Egypt',
  },
  {
    URL: './images/Waist.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Waist',
  },
  {
    URL: './images/Authority.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Authority',
  },
  {
    URL: './images/Sarcasm.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Sarcasm',
  },
  {
    URL: './images/Temple.gif',
    hands: 2,
    location: 'Chin',
    name: 'Temple',
  },
  {
    URL: './images/Swing.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Swing',
  },
  {
    URL: './images/Stimulate.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Stimulate',
  },
  {
    URL: './images/Speech.gif',
    hands: 1,
    location: 'Chin',
    name: 'Speech',
  },
  {
    URL: './images/A lot.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'A lot',
  },
  {
    URL: './images/Cry.gif',
    hands: 2,
    location: 'Temple',
    name: 'Cry',
  },
  {
    URL: './images/Priest.gif',
    hands: 1,
    location: 'Chin',
    name: 'Priest',
  },
  {
    URL: './images/Line.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Line',
  },
  {
    URL: './images/Abortion.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Abortion',
  },
  {
    URL: './images/Thief.gif',
    hands: 1,
    location: 'Chin',
    name: 'Thief',
  },
  {
    URL: './images/Beautiful.gif',
    hands: 1,
    location: 'Chin',
    name: 'Beautiful',
  },
  {
    URL: './images/Reduce.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Reduce',
  },
  {
    URL: './images/San Francisco.gif',
    hands: 1,
    location: 'Chin',
    name: 'San Francisco',
  },
  {
    URL: './images/Responsibility.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Responsibility',
  },
  {
    URL: './images/Close window.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Close window',
  },
  {
    URL: './images/Tiny.gif',
    hands: 1,
    location: 'Chin',
    name: 'Tiny',
  },
  {
    URL: './images/Puerto Rico.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Puerto Rico',
  },
  {
    URL: './images/E-mail.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'E-mail',
  },
  {
    URL: './images/Wag.gif',
    hands: 1,
    location: 'Chin',
    name: 'Wag',
  },
  {
    URL: './images/Foreign.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Foreign',
  },
  {
    URL: './images/Dim.gif',
    hands: 2,
    location: 'Temple',
    name: 'Dim',
  },
  {
    URL: './images/Appointment.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Appointment',
  },
  {
    URL: './images/Play around.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Play around',
  },
  {
    URL: './images/Encyclopedia.gif',
    hands: 2,
    location: 'Temple',
    name: 'Encyclopedia',
  },
  {
    URL: './images/Sweden.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Sweden',
  },
  {
    URL: './images/Collect.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Collect',
  },
  {
    URL: './images/Greece.gif',
    hands: 2,
    location: 'Chin',
    name: 'Greece',
  },
  {
    URL: './images/Tall.gif',
    hands: 2,
    location: 'Temple',
    name: 'Tall',
  },
  {
    URL: './images/Advise.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Advise',
  },
  {
    URL: './images/Grammar.gif',
    hands: 2,
    location: 'Chin',
    name: 'Grammar',
  },
  {
    URL: './images/Steam.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'Steam',
  },
  {
    URL: './images/Alone.gif',
    hands: 1,
    location: 'The whole face/head',
    name: 'Alone',
  },
  {
    URL: './images/Association.gif',
    hands: 2,
    location: 'Chin',
    name: 'Association',
  },
  {
    URL: './images/See saw.gif',
    hands: 2,
    location: 'The whole face/head',
    name: 'See saw',
  },
]

/* filter logic */
let results = []
let filters = {}

function addSign(sign) {
  const id = sign.name.split(' ').join('_')
  $('.results-grid').append(
    `<div class="result-box"> <div class="result-image" id="${id}"></div><div class="result-title"><p><strong>${sign.name}</strong></p></div><div class="sign-properties"><p><strong>Hands:</strong> ${sign.hands}</p><span class="seperator">|</span><p><strong>Location:</strong> ${sign.location}</p></div></div>`
  )
  let curr = $(`#${id}`)

  curr.css('background-image', 'url(../images/' + id + '.gif')
}

function loadSigns() {
  signs.forEach((sign) => addSign(sign))
}

function updateResults(sign) {
  if (!results.includes(sign)) {
    results.push(sign)
  }
}

/**
 * check if the filter exist and sign value match the filter's value
 * @param {String} type (filter type)
 * @param {Object} sign
 */
function isFilterMatch(type, sign) {
  return filters[type] && filters[type].includes(sign[type])
}

function toggleFilters() {
  const filtersEl = document.getElementById('filters')
  const clearEl = document.getElementById('clear')
  console.log(filtersEl.style.display)

  // toggle the display property of the filter-container
  filtersEl.style.display = `${
    filtersEl.style.display === 'none' || filtersEl.style.display === ''
      ? 'flex'
      : 'none'
  }`
  // toggle display of clear all button based on the display of filter-container
  clearEl.style.display = `${
    filtersEl.style.display === 'flex' ? 'block' : 'none'
  }`
}

/** clear all filters */
function clearFilters() {
  // reload the page
  location.reload()

  /** alternate solution instead of reloading the page */
  // filters = []
  // const filterElements = document.querySelectorAll('.filter-column p')
  // filterElements.forEach((element) => (element.style.fontWeight = 'normal'))
  // call the loadGrid() in main.js
}

/**
  @param {String} type
  @param {String | Number} value
  @param {Number} index (position of the filter element)
*/
function filterByType(type, value, index = 0) {
  // signs container
  const signsContainer = document.getElementById('signs')
  // remove all child nodes of signs container
  signsContainer.innerHTML = ''

  // update filters
  if (filters[type] && !filters[type].includes(value)) {
    filters[type].push(value)
  } else {
    filters[type] = [value]
  }

  // filter signs based on the type (property) and value
  if (type !== 'default') {
    document.getElementById(`${type}-${index}`).style.fontWeight = 'bold'

    results = []
    signs.forEach((sign) => {
      // when no filter is selected in any column
      if (filters['hands'] === undefined || filters['location'] === undefined) {
        if (isFilterMatch('hands', sign)) {
          updateResults(sign)
        } else if (isFilterMatch('location', sign)) {
          updateResults(sign)
        }
      } else if (
        isFilterMatch('hands', sign) &&
        isFilterMatch('location', sign)
      ) {
        updateResults(sign)
      }
    })

    console.log(results)
    console.log('hands:', filters['hands'])
    console.log('location:', filters['location'])
  } else {
    // when filter type is default, show all signs
    results = [...signs]
  }

  const errorMessageEl = document.getElementById('error-message')

  if (results.length === 0) {
    $('.results-grid-container').innerHTML = ''
    $('.results-grid-container').height(0)
    errorMessageEl.style.display = 'flex'
    errorMessageEl.textContent = 'No signs found. Update your filters!'
  } else {
    errorMessageEl.style.display = 'none'
    // loop through the results and create a div with an img element for each sign
    // append the above elements to signs container
    results.forEach((sign) => {
      // const divElement = document.createElement('div')
      // const imgElement = document.createElement('img')
      // const labelElement = document.createElement('p')
      // labelElement.classList.add('result-title')
      // imgElement.classList.add('result-image')
      // imgElement.src = sign.URL
      // imgElement.alt = `${sign.name.toLocaleUpperCase()} Sign Image`
      // imgElement.title = `${sign.name} Sign Image`
      // labelElement.innerText = `${sign.name}`
      // divElement.appendChild(imgElement)
      // divElement.appendChild(labelElement)
      // divElement.classList.add('result-box')
      // signsContainer.appendChild(divElement)
      addSign(sign)
    })
  }
}
